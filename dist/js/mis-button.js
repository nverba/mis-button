(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
'use strict';

(function () {
	'use strict';

	var popup = '\n\t\t<div class="misFrame">\n\t\t\t<div class="misSpinner">\n\t\t\t\t<div class="circle1"></div>\n\t\t\t\t<div class="circle2"></div>\n\t\t\t\t<div class="mis-logo"></div>\n\t\t\t\t<p class="loadingText">Loading</p>\n\t\t\t\t<a class="mis-faq" href="https://makeitsocial.com/faq/" target="_blank">Learn more</a>\n\t\t\t</div>\n\t\t\t<div class="draghandle">\n\t\t\t\t<div class="misIco misMin"></div>\n\t\t\t</div>\n\t\t</div>\n\t  <iframe class="MiS_PopUp" src="" style="display:none"></iframe>\n\t';

	var sprite = '<div class="misBtnFill"><div class="misIco misMax"></div></div>';
<<<<<<< HEAD

	var buttons = document.getElementsByClassName("makeitsocial-button");
	var isMobile = navigator.userAgent.match(/Android|BlackBerry|iPhone|iPad|iPod|Opera Mini|IEMobile/i);

	// Create & append the container for opened, minimised popups.
	var minimised = document.createElement('div');
	minimised.className = "misMinimised";
	document.body.appendChild(minimised);

	var dragcanvas = document.createElement('div');
	dragcanvas.className = "dragCanvas";
	document.body.appendChild(dragcanvas);

	var _loop = function () {
		var updatePos = function updatePos(c) {
			container.style.left = c[0] + 'px';
			container.style.top = c[1] + 'px';
		};

		var launchPopup = function launchPopup(e) {
=======
	var buttons = document.getElementsByClassName("makeitsocial-button");
	var isMobile = navigator.userAgent.match(/Android|BlackBerry|iPhone|iPad|iPod|Opera Mini|IEMobile/i);

	// Create & append the container for opened, minimised popups.
	var minimised = document.createElement('div');
	minimised.className = "misMinimised";
	document.body.appendChild(minimised);

	// DragCanvas isolates the popups from any underlying iframes that can capture drop events, a drag event removes the { pointer-events: none } class property.
	var dragcanvas = document.createElement('div');
	dragcanvas.className = "dragCanvas";
	document.body.appendChild(dragcanvas);

	function createButton(button) {

		var active = false;
		var pid = button.getAttribute('data-pid');
		var coords = [window.innerWidth / 2 - 200, 20];
		var offset = [0, 0];

		var container = document.createElement('div');

		container.innerHTML = popup;
		container.setAttribute('draggable', 'true');
		container.setAttribute('ondragstart', "event.dataTransfer.setData('text/plain', 'This text may be dragged')"); // firefox data workaround
		container.className = "misCover";

		var loader = container.getElementsByClassName('misSpinner')[0];
		var iframe = container.getElementsByClassName('MiS_PopUp')[0];
		var minimi = container.getElementsByClassName('misMin')[0];
		var cachedPos = undefined;
		var isMinimised = undefined;

		var maximise = document.createElement('button');
		maximise.className = "misBtn";
		maximise.innerHTML = sprite;
		minimised.appendChild(maximise);

		container.addEventListener("dragend", function (event) {
			dragcanvas.className = "dragCanvas";
			updatePos(coords);
		}, false);

		container.addEventListener("dragstart", function (event) {
			dragcanvas.className = "dragCanvas activeDrag";
			offset = [event.offsetX, event.offsetY];
		}, false);

		dragcanvas.addEventListener("dragover", function (event) {
			event.preventDefault();
			coords = [event.clientX - offset[0], event.clientY - offset[1]];
		}, false);

		dragcanvas.addEventListener("drop", function (event) {
			event.preventDefault();
		}, false);

		function updatePos(c) {
			container.style.left = c[0] + 'px';
			container.style.top = c[1] + 'px';
		}

		function launchPopup(e) {
>>>>>>> b00dc733b78a76dcd677141d766a341f49b02484

			if (isMobile) {
				window.location.href = "https://popup-sandbox.herokuapp.com#/setup?pid=" + pid;
				return;
			}

			// Open only one popup per button;
			if (active) {
<<<<<<< HEAD
				return;
			}

			container.innerHTML = popup;
=======
				if (isMinimised) {
					maximisePopup();
				}
				return;
			}

>>>>>>> b00dc733b78a76dcd677141d766a341f49b02484
			dragcanvas.appendChild(container);
			updatePos([window.innerWidth / 2 - 200, 20]);
			active = true;

<<<<<<< HEAD
			var loader = container.getElementsByClassName('misSpinner')[0];
			var iframe = container.getElementsByClassName('MiS_PopUp')[0];
			var minimi = container.getElementsByClassName('misMin')[0];
			var cachedPos = undefined;

=======
>>>>>>> b00dc733b78a76dcd677141d766a341f49b02484
			iframe.onload = function (e) {
				// Give 1s to let page render with product details
				setTimeout(function () {
					loader.style.display = "none";
					iframe.style.display = "block";
				}, 1000);
			};

			function minimisePopup() {
				cachedPos = [container.offsetLeft, container.offsetTop];
				container.className = "misCover misMoveMin misAnim";
				maximise.className = "misBtn mimimised";
				updatePos([document.body.offsetWidth - 300, document.body.offsetHeight - 100]);
<<<<<<< HEAD
=======
				isMinimised = true;
>>>>>>> b00dc733b78a76dcd677141d766a341f49b02484
			}

			function maximisePopup() {
				container.className = "misCover misAnim";
				maximise.className = "misBtn";
				updatePos(cachedPos);
<<<<<<< HEAD
=======
				isMinimised = false;
>>>>>>> b00dc733b78a76dcd677141d766a341f49b02484
				setTimeout(function () {
					container.className = "misCover";
				}, 500);
			}

			function receiveMessage(event) {
				// This check is essential to avoid xss
				if (event.origin !== "https://popup-sandbox.herokuapp.com" && event.origin !== "https://popup.makeitsocial.com/") {
					return;
				}
				var data = JSON.parse(event.data);
				if (data.pid === pid) {
					maximise.appendChild(document.createTextNode(data.name));
				}
			}

			window.addEventListener("message", receiveMessage, false);
			maximise.addEventListener('click', maximisePopup);
			minimi.addEventListener('click', minimisePopup);
			// used for local testing
			// iframe.setAttribute('src', "http://127.0.0.1:8080/#/setup?pid=" + pid);  
			iframe.setAttribute('src', "https://popup-sandbox.herokuapp.com#/setup?pid=" + pid);
<<<<<<< HEAD
		};

		var button = buttons[i];
		var active = false;
		var pid = button.getAttribute('data-pid');
		var coords = [window.innerWidth / 2 - 200, 20];
		var offset = [0, 0];

		var maximise = document.createElement('button');
		maximise.className = "misBtn";
		maximise.innerHTML = sprite;
		minimised.appendChild(maximise);

		var container = document.createElement('div');
		container.setAttribute('draggable', 'true');
		container.setAttribute('ondragstart', "event.dataTransfer.setData('text/plain', 'This text may be dragged')"); // firefox data workaround
		container.className = "misCover";

		container.addEventListener("dragend", function (event) {
			dragcanvas.className = "dragCanvas";
			updatePos(coords);
		}, false);

		container.addEventListener("dragstart", function (event) {
			dragcanvas.className = "dragCanvas activeDrag";
			offset = [event.offsetX, event.offsetY];
		}, false);

		document.addEventListener("dragover", function (event) {
			coords = [event.clientX - offset[0], event.clientY - offset[1]];
		}, false);

		button.addEventListener('click', launchPopup);
	};

	for (var i = 0; i < buttons.length; i++) {
		_loop();
=======
		}

		button.addEventListener('click', launchPopup);
	}

	for (var i = 0; i < buttons.length; i++) {

		createButton(buttons[i]);
>>>>>>> b00dc733b78a76dcd677141d766a341f49b02484
	}
})();

},{}]},{},[1])
<<<<<<< HEAD
//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCIvaG9tZS9taWtlL2NvZGUvbWlzLWJ1dHRvbi9zcmMvanMvbWlzLWJ1dHRvbi5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7O0FDQUEsQ0FBQyxZQUFXO0FBQUUsYUFBWSxDQUFDOztBQUUxQixLQUFJLEtBQUsseWZBY1IsQ0FBQTs7QUFFRCxLQUFJLE1BQU0sb0VBQW9FLENBQUE7O0FBRTlFLEtBQUksT0FBTyxHQUFHLFFBQVEsQ0FBQyxzQkFBc0IsQ0FBQyxxQkFBcUIsQ0FBQyxDQUFDO0FBQ3JFLEtBQUksUUFBUSxHQUFHLFNBQVMsQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLDBEQUEwRCxDQUFDLENBQUM7OztBQUdyRyxLQUFJLFNBQVMsR0FBRyxRQUFRLENBQUMsYUFBYSxDQUFDLEtBQUssQ0FBQyxDQUFDO0FBQzlDLFVBQVMsQ0FBQyxTQUFTLEdBQUcsY0FBYyxDQUFDO0FBQ3JDLFNBQVEsQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLFNBQVMsQ0FBQyxDQUFDOztBQUVyQyxLQUFJLFVBQVUsR0FBRyxRQUFRLENBQUMsYUFBYSxDQUFDLEtBQUssQ0FBQyxDQUFDO0FBQy9DLFdBQVUsQ0FBQyxTQUFTLEdBQUcsWUFBWSxDQUFDO0FBQ3BDLFNBQVEsQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLFVBQVUsQ0FBQyxDQUFDOzs7TUFrQzVCLFNBQVMsR0FBbEIsU0FBUyxTQUFTLENBQUMsQ0FBQyxFQUFFO0FBQ3JCLFlBQVMsQ0FBQyxLQUFLLENBQUMsSUFBSSxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUM7QUFDbkMsWUFBUyxDQUFDLEtBQUssQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQztHQUNsQzs7TUFFUSxXQUFXLEdBQXBCLFNBQVMsV0FBVyxDQUFDLENB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TSxHQUFHLENBQUMsS0FBSyxDQUFDLE9BQU8sRUFBRSxLQUFLLENBQUMsT0FBTyxDQUFDLENBQUM7R0FDdkMsRUFBRSxLQUFLLENBQUMsQ0FBQzs7QUFFVixVQUFRLENBQUMsZ0JBQWdCLENBQUMsVUFBVSxFQUFFLFVBQVUsS0FBSyxFQUFHO0FBQ3hELFNBQU0sR0FBRyxDQUFDLEtBQUssQ0FBQyxPQUFPLEdBQUcsTUFBTSxDQUFDLENBQUMsQ0FBQyxFQUFFLEtBQUssQ0FBQyxPQUFPLEdBQUcsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7R0FDL0QsRUFBRSxLQUFLLENBQUMsQ0FBQzs7QUFzRVgsUUFBTSxDQUFDLGdCQUFnQixDQUFDLE9BQU8sRUFBRSxXQUFXLENBQUMsQ0FBQzs7O0FBcEcvQyxNQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsT0FBTyxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRTs7RUFzR3hDO0NBQ0QsQ0FBQSxFQUFHLENBQUEiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pIiwiKGZ1bmN0aW9uKCkgeyAndXNlIHN0cmljdCc7XG5cdFxuXHRsZXQgcG9wdXAgPSBgXG5cdFx0PGRpdiBjbGFzcz1cIm1pc0ZyYW1lXCI+XG5cdFx0XHQ8ZGl2IGNsYXNzPVwibWlzU3Bpbm5lclwiPlxuXHRcdFx0XHQ8ZGl2IGNsYXNzPVwiY2lyY2xlMVwiPjwvZGl2PlxuXHRcdFx0XHQ8ZGl2IGNsYXNzPVwiY2lyY2xlMlwiPjwvZGl2PlxuXHRcdFx0XHQ8ZGl2IGNsYXNzPVwibWlzLWxvZ29cIj48L2Rpdj5cblx0XHRcdFx0PHAgY2xhc3M9XCJsb2FkaW5nVGV4dFwiPkxvYWRpbmc8L3A+XG5cdFx0XHRcdDxhIGNsYXNzPVwibWlzLWZhcVwiIGhyZWY9XCJodHRwczovL21ha2VpdHNvY2lhbC5jb20vZmFxL1wiIHRhcmdldD1cIl9ibGFua1wiPkxlYXJuIG1vcmU8L2E+XG5cdFx0XHQ8L2Rpdj5cblx0XHRcdDxkaXYgY2xhc3M9XCJkcmFnaGFuZGxlXCI+XG5cdFx0XHRcdDxkaXYgY2xhc3M9XCJtaXNJY28gbWlzTWluXCI+PC9kaXY+XG5cdFx0XHQ8L2Rpdj5cblx0XHQ8L2Rpdj5cblx0ICA8aWZyYW1lIGNsYXNzPVwiTWlTX1BvcFVwXCIgc3JjPVwiXCIgc3R5bGU9XCJkaXNwbGF5Om5vbmVcIj48L2lmcmFtZT5cblx0YFxuXHRcblx0bGV0IHNwcml0ZSA9IGA8ZGl2IGNsYXNzPVwibWlzQnRuRmlsbFwiPjxkaXYgY2xhc3M9XCJtaXNJY28gbWlzTWF4XCI+PC9kaXY+PC9kaXY+YFxuXHRcblx0bGV0IGJ1dHRvbnMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwibWFrZWl0c29jaWFsLWJ1dHRvblwiKTtcblx0bGV0IGlzTW9iaWxlID0gbmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvQW5kcm9pZHxCbGFja0JlcnJ5fGlQaG9uZXxpUGFkfGlQb2R8T3BlcmEgTWluaXxJRU1vYmlsZS9pKTtcblx0XG5cdC8vIENyZWF0ZSAmIGFwcGVuZCB0aGUgY29udGFpbmVyIGZvciBvcGVuZWQsIG1pbmltaXNlZCBwb3B1cHMuXG5cdGxldCBtaW5pbWlzZWQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblx0bWluaW1pc2VkLmNsYXNzTmFtZSA9IFwibWlzTWluaW1pc2VkXCI7XG5cdGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQobWluaW1pc2VkKTtcblx0XG5cdGxldCBkcmFnY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cdGRyYWdjYW52YXMuY2xhc3NOYW1lID0gXCJkcmFnQ2FudmFzXCI7XG5cdGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZHJhZ2NhbnZhcyk7XG5cdFxuXHRmb3IgKHZhciBpID0gMDsgaSA8IGJ1dHRvbnMubGVuZ3RoOyBpKyspIHtcblx0XHRcblx0XHRsZXQgYnV0dG9uID0gYnV0dG9uc1tpXTtcblx0XHRsZXQgYWN0aXZlID0gZmFsc2U7XG5cdFx0bGV0IHBpZCA9IGJ1dHRvbi5nZXRBdHRyaWJ1dGUoJ2RhdGEtcGlkJyk7XG5cdFx0bGV0IGNvb3JkcyA9IFsod2luZG93LmlubmVyV2lkdGggLyAyKSAtIDIwMCwgMjBdO1xuXHRcdGxldCBvZmZzZXQgPSBbMCwgMF07XG5cdFx0XG5cdFx0bGV0IG1heGltaXNlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG5cdFx0bWF4aW1pc2UuY2xhc3NOYW1lID0gXCJtaXNCdG5cIjtcblx0XHRtYXhpbWlzZS5pbm5lckhUTUwgPSBzcHJpdGU7XG5cdFx0bWluaW1pc2VkLmFwcGVuZENoaWxkKG1heGltaXNlKTtcblx0XHRcblx0XHRsZXQgY29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cdFx0Y29udGFpbmVyLnNldEF0dHJpYnV0ZSgnZHJhZ2dhYmxlJywgJ3RydWUnKTtcblx0XHRjb250YWluZXIuc2V0QXR0cmlidXRlKCdvbmRyYWdzdGFydCcsIFwiZXZlbnQuZGF0YVRyYW5zZmVyLnNldERhdGEoJ3RleHQvcGxhaW4nLCAnVGhpcyB0ZXh0IG1heSBiZSBkcmFnZ2VkJylcIik7IC8vIGZpcmVmb3ggZGF0YSB3b3JrYXJvdW5kXG5cdFx0Y29udGFpbmVyLmNsYXNzTmFtZSA9IFwibWlzQ292ZXJcIjtcblx0XHRcblx0XHRjb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcihcImRyYWdlbmRcIiwgZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdFx0ZHJhZ2NhbnZhcy5jbGFzc05hbWUgPSBcImRyYWdDYW52YXNcIjtcblx0XHRcdHVwZGF0ZVBvcyhjb29yZHMpO1xuICBcdH0sIGZhbHNlKTtcblx0XHRcblx0XHRjb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcihcImRyYWdzdGFydFwiLCBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0XHRkcmFnY2FudmFzLmNsYXNzTmFtZSA9IFwiZHJhZ0NhbnZhcyBhY3RpdmVEcmFnXCI7XG5cdFx0XHRvZmZzZXQgPSBbZXZlbnQub2Zmc2V0WCwgZXZlbnQub2Zmc2V0WV07XG4gIFx0fSwgZmFsc2UpO1xuXHRcdFxuXHQgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJkcmFnb3ZlclwiLCBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0XHRjb29yZHMgPSBbZXZlbnQuY2xpZW50WCAtIG9mZnNldFswXSwgZXZlbnQuY2xpZW50WSAtIG9mZnNldFsxXV07XG5cdCAgfSwgZmFsc2UpO1xuXHRcdFxuXHRcdGZ1bmN0aW9uIHVwZGF0ZVBvcyhjKSB7XG5cdFx0XHRjb250YWluZXIuc3R5bGUubGVmdCA9IGNbMF0gKyAncHgnO1xuXHRcdFx0Y29udGFpbmVyLnN0eWxlLnRvcCA9IGNbMV0gKyAncHgnO1xuXHRcdH1cblx0XHRcblx0XHRmdW5jdGlvbiBsYXVuY2hQb3B1cChlKSB7XG5cdFx0XHRcblx0XHRcdGlmIChpc01vYmlsZSkge1xuXHRcdFx0XHR3aW5kb3cubG9jYXRpb24uaHJlZiA9IFwiaHR0cHM6Ly9wb3B1cC1zYW5kYm94Lmhlcm9rdWFwcC5jb20jL3NldHVwP3BpZD1cIiArIHBpZDtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXHRcdFx0XG5cdFx0XHQvLyBPcGVuIG9ubHkgb25lIHBvcHVwIHBlciBidXR0b247XG5cdFx0XHRpZiAoYWN0aXZlKSB7IFxuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cdFx0XHRcblx0XHRcdGNvbnRhaW5lci5pbm5lckhUTUwgPSBwb3B1cDtcblx0XHRcdGRyYWdjYW52YXMuYXBwZW5kQ2hpbGQoY29udGFpbmVyKTtcblx0XHRcdHVwZGF0ZVBvcyhbKHdpbmRvdy5pbm5lcldpZHRoIC8gMikgLSAyMDAsIDIwXSk7XG5cdFx0XHRhY3RpdmUgPSB0cnVlO1xuXHRcdFx0XG5cdFx0XHRsZXQgbG9hZGVyID0gY29udGFpbmVyLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ21pc1NwaW5uZXInKVswXTtcblx0XHRcdGxldCBpZnJhbWUgPSBjb250YWluZXIuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnTWlTX1BvcFVwJylbMF07XG5cdFx0XHRsZXQgbWluaW1pID0gY29udGFpbmVyLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ21pc01pbicpWzBdO1xuXHRcdFx0bGV0IGNhY2hlZFBvcztcblx0XHRcdFxuXHRcdFx0aWZyYW1lLm9ubG9hZCA9IGZ1bmN0aW9uKGUpIHtcblx0XHRcdFx0Ly8gR2l2ZSAxcyB0byBsZXQgcGFnZSByZW5kZXIgd2l0aCBwcm9kdWN0IGRldGFpbHNcblx0XHRcdFx0c2V0VGltZW91dChmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRsb2FkZXIuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuXHRcdFx0XHRcdGlmcmFtZS5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuXHRcdFx0XHR9LCAxMDAwKTtcblx0XHRcdH07XG5cdFx0XHRcblx0XHRcdGZ1bmN0aW9uIG1pbmltaXNlUG9wdXAoKSB7XG5cdFx0XHRcdGNhY2hlZFBvcyA9IFtjb250YWluZXIub2Zmc2V0TGVmdCwgY29udGFpbmVyLm9mZnNldFRvcF07XG5cdFx0XHRcdGNvbnRhaW5lci5jbGFzc05hbWUgPSBcIm1pc0NvdmVyIG1pc01vdmVNaW4gbWlzQW5pbVwiO1xuXHRcdFx0XHRtYXhpbWlzZS5jbGFzc05hbWUgID0gXCJtaXNCdG4gbWltaW1pc2VkXCI7XG5cdFx0XHRcdHVwZGF0ZVBvcyhbZG9jdW1lbnQuYm9keS5vZmZzZXRXaWR0aCAtIDMwMCwgZG9jdW1lbnQuYm9keS5vZmZzZXRIZWlnaHQgLSAxMDBdKTtcblx0XHRcdH1cblx0XHRcdFxuXHRcdFx0ZnVuY3Rpb24gbWF4aW1pc2VQb3B1cCgpIHtcblx0XHRcdFx0Y29udGFpbmVyLmNsYXNzTmFtZSA9IFwibWlzQ292ZXIgbWlzQW5pbVwiO1xuXHRcdFx0XHRtYXhpbWlzZS5jbGFzc05hbWUgID0gXCJtaXNCdG5cIjtcblx0XHRcdFx0dXBkYXRlUG9zKGNhY2hlZFBvcyk7XG5cdFx0XHRcdHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0Y29udGFpbmVyLmNsYXNzTmFtZSA9IFwibWlzQ292ZXJcIjtcblx0XHRcdFx0fSwgNTAwKTtcblx0XHRcdH1cblx0XHRcdFxuXHRcdFx0ZnVuY3Rpb24gcmVjZWl2ZU1lc3NhZ2UoZXZlbnQpIHtcblx0XHRcdFx0Ly8gVGhpcyBjaGVjayBpcyBlc3NlbnRpYWwgdG8gYXZvaWQgeHNzXG5cdFx0XHRcdGlmIChldmVudC5vcmlnaW4gIT09IFwiaHR0cHM6Ly9wb3B1cC1zYW5kYm94Lmhlcm9rdWFwcC5jb21cIiAmJiBldmVudC5vcmlnaW4gIT09IFwiaHR0cHM6Ly9wb3B1cC5tYWtlaXRzb2NpYWwuY29tL1wiKSB7IHJldHVybjsgfVxuXHRcdFx0XHR2YXIgZGF0YSA9IEpTT04ucGFyc2UoZXZlbnQuZGF0YSk7XG5cdFx0XHRcdGlmIChkYXRhLnBpZCA9PT0gcGlkKSB7XG5cdFx0XHRcdFx0bWF4aW1pc2UuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoZGF0YS5uYW1lKSk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdFx0XG5cdFx0XHR3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIiwgcmVjZWl2ZU1lc3NhZ2UsIGZhbHNlKTtcblx0XHRcdG1heGltaXNlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgbWF4aW1pc2VQb3B1cCk7XG5cdFx0XHRtaW5pbWkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBtaW5pbWlzZVBvcHVwKTtcblx0XHRcdC8vIHVzZWQgZm9yIGxvY2FsIHRlc3Rpbmdcblx0XHRcdC8vIGlmcmFtZS5zZXRBdHRyaWJ1dGUoJ3NyYycsIFwiaHR0cDovLzEyNy4wLjAuMTo4MDgwLyMvc2V0dXA/cGlkPVwiICsgcGlkKTsgICBcblx0XHRcdGlmcmFtZS5zZXRBdHRyaWJ1dGUoJ3NyYycsIFwiaHR0cHM6Ly9wb3B1cC1zYW5kYm94Lmhlcm9rdWFwcC5jb20jL3NldHVwP3BpZD1cIiArIHBpZCk7XG5cdFx0fVxuXHRcdFxuXHRcdGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGxhdW5jaFBvcHVwKTtcblx0XHRcblx0fVxufSkoKSJdfQ==
=======
//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCIvaG9tZS9udmVyYmEvY29kZS9taXMtYnV0dG9uL3NyYy9qcy9taXMtYnV0dG9uLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7QUNBQSxDQUFDLFlBQVc7QUFBRSxhQUFZLENBQUM7O0FBRTFCLEtBQUksS0FBSyx5ZkFjUixDQUFBOztBQUVELEtBQUksTUFBTSxvRUFBb0UsQ0FBQztBQUMvRSxLQUFJLE9BQU8sR0FBRyxRQUFRLENBQUMsc0JBQXNCLENBQUMscUJBQXFCLENBQUMsQ0FBQztBQUNyRSxLQUFJLFFBQVEsR0FBRyxTQUFTLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQywwREFBMEQsQ0FBQyxDQUFDOzs7QUFHckcsS0FBSSxTQUFTLEdBQUcsUUFBUSxDQUFDLGFBQWEsQ0FBQyxLQUFLLENBQUMsQ0FBQztBQUM5QyxVQUFTLENBQUMsU0FBUyxHQUFHLGNBQWMsQ0FBQztBQUNyQyxTQUFRLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxTQUFTLENBQUMsQ0FBQzs7O0FBR3JDLEtBQUksVUFBVSxHQUFHLFFBQVEsQ0FBQyxhQUFhLENBQUMsS0FBSyxDQUFDLENBQUM7QUFDL0MsV0FBVSxDQUFDLFNBQVMsR0FBRyxZQUFZLENBQUM7QUFDcEMsU0FBUSxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsVUFBVSxDQUFDLENBQUM7O0FBRXRDLFVBQVMsWUFBWSxDQUFDLE1BQU0sRUFBRTs7QUFFN0IsTUFBSSxNQUFNLEdBQUcsS0FBSyxDQUFDO0FBQ25CLE1BQUksR0FBRyxHQUFHLE1BQU0sQ0FBQyxZQUFZLENBQUMsVUFBVSxDQUFDLENBQUM7QUFDMUMsTUFBSSxNQUFNLEdBQUcsQ0FBQyxBQUFDLE1BQU0sQ0FBQyxVQUFVLEdBQUcsQ0FBQyxHQUFJLEdBQUcsRUFBRSxFQUFFLENBQUMsQ0FBQztBQUNqRCxNQUFJLE1BQU0sR0FBRyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQzs7QUFFcEIsTUFBSSxTQUFTLEdBQUcsUUFBUSxDQUFDLGFBQWEsQ0FBQyxLQUFLLENBQUMsQ0FBQzs7QUFFOUMsV0FBUyxDQUFDLFNBQVMsR0FBRyxLQUFLLENBQUM7QUFDNUIsV0FBUyxDQUFDLFlBQVksQ0FBQyxXQUFXLEVBQUUsTUFBTSxDQUFDLENBQUM7QUFDNUMsV0FBUyxDQUFDLFlBQVksQ0FBQyxhQUFhLEVBQUUsc0VBQXNFLENBQUMsQ0FBQztBQUM5RyxXQUFTLENBQUMsU0FBUyxHQUFHLFVBQVUsQ0FBQzs7QUFFakMsTUFBSSxNQUFNLEdBQUcsU0FBUyxDQUFDLHNCQUFzQixDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0FBQy9ELE1BQUksTUFBTSxHQUFHLFNBQVMsQ0FBQyxzQkFBc0IsQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUM5RCxNQUFJLE1BQU0sR0FBRyxTQUFTLENBQUMsc0JBQXNCLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDM0QsTUFBSSxTQUFTLFlBQUEsQ0FBQztBQUNkLE1BQUksV0FBVyxZQUFBLENBQUM7O0FBRWhCLE1BQUksUUFBUSxHQUFHLFFBQVEsQ0FBQyxhQUFhLENBQUMsUUFBUSxDQUFDLENBQUM7QUFDaEQsVUFBUSxDQUFDLFNBQVMsR0FBRyxRQUFRLENBQUM7QUFDOUIsVUFBUSxDQUFDLFNBQVMsR0FBRyxNQUFNLENBQUM7QUFDNUIsV0FBUyxDQUFDLFdBQVcsQ0FBQyxRQUFRLENBQUMsQ0FBQzs7QUFFaEMsV0FBUyxDQUFDLGdCQUFnQixDQUFDLFNBQVMsRUFBRSxVQUFVLEtBQUssRUFBRztBQUN2RCxhQUFVLENBQUMsU0FBUyxHQUFHLFlBQVksQ0FBQztBQUNwQyxZQUFTLENBQUMsTUFBTSxDQUFDLENBQUM7R0FDakIsRUFBRSxLQUFLLENBQUMsQ0FBQzs7QUFFWCxXQUFTLENBQUMsZ0JBQWdCLENBQUMsV0FBVyxFQUFFLFVBQVUsS0FBSyxFQUFHO0FBQ3pELGFBQVUsQ0FBQyxTQUFTLEdBQUcsdUJBQXVCLENBQUM7QUFDL0MsU0FBTSxHQUFHLENBQUMsS0FBSyxDQUFDLE9BQU8sRUFBRSxLQUFLLENBQUMsT0FBTyxDQUFDLENBQUM7R0FDdkMsRUFBRSxLQUFLLENBQUMsQ0FBQzs7QUFFVixZQUFVLENBQUMsZ0JBQWdCLENBQUMsVUFBVSxFQUFFLFVBQVUsS0FBSyxFQUFHO0FBQzFELFFBQUssQ0FBQyxjQUFjLEVBQUUsQ0FBQztBQUN2QixTQUFNLEdBQUcsQ0FBQyxLQUFLLENBQUMsT0FBTyxHQUFHLE1BQU0sQ0FBQyxDQUFDLENBQUMsRUFBRSxLQUFLLENBQUMsT0FBTyxHQUFHLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0dBQy9ELEVBQUUsS0FBSyxDQUFDLENBQUM7O0FBRVYsWUFBVSxDQUFDLGdCQUFnQixDQUFDLE1BQU0sRUFBRSxVQUFVLEtBQUssRUFBRztBQUN0RCxRQUFLLENBQUMsY0FBYyxFQUFFLENBQUM7R0FDdEIsRUFBRSxLQUFLLENBQUMsQ0FBQzs7QUFFWCxXQUFTLFNBQVMsQ0FBQyxDQUFDLEVBQUU7QUFDckIsWUFBUyxDQUFDLEtBQUssQ0FBQyxJQUFJLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQztBQUNuQyxZQUFTLENBQUMsS0FBSyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDO0dBQ2xDOztBQUVELFdBQVMsV0FBVyxDQUFDLENBQUMsRUFBRTs7QUFFdkIsT0FBSSxRQUFRLEVBQUU7QUFDYixVQUFNLENBQUMsUUFBUSxDQUFDLElBQUksR0FBRyxpREFBaUQsR0FBRyxHQUFHLENBQUM7QUFDL0UsV0FBTztJQUNQOzs7QUFHRCxPQUFJLE1BQU0sRUFBRTtBQUNYLFFBQUksV0FBVyxFQUFFO0FBQUUsa0JBQWEsRUFBRSxDQUFDO0tBQUU7QUFDckMsV0FBTztJQUNQOztBQUVELGFBQVUsQ0FBQyxXQUFXLENBQUMsU0FBUyxDQUFDLENBQUM7QUFDbEMsWUFBUyxDQUFDLENBQUMsQUFBQyxNQUFNLENBQUMsVUFBVSxHQUFHLENBQUMsR0FBSSxHQUFHLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQztBQUMvQyxTQUFNLEdBQUcsSUFBSSxDQUFDOztBQUVkLFNBQU0sQ0FBQyxNQUFNLEdBQUcsVUFBUyxDQUFDLEVBQUU7O0FBRTNCLGNBQVUsQ0FBQyxZQUFXO0FBQ3JCLFdBQU0sQ0FBQyxLQUFLLENBQUMsT0FBTyxHQUFHLE1BQU0sQ0FBQztBQUM5QixXQUFNLENBQUMsS0FBSyxDQUFDLE9BQU8sR0FBRyxPQUFPLENBQUM7S0FDL0IsRUFBRSxJQUFJLENBQUMsQ0FBQztJQUNULENBQUM7O0FBRUYsWUFBUyxhQUFhLEdBQUc7QUFDeEIsYUFBUyxHQUFHLENBQUMsU0FBUyxDQUFDLFVBQVUsRUFBRSxTQUFTLENBQUMsU0FBUyxDQUFDLENBQUM7QUFDeEQsYUFBUyxDQUFDLFNBQVMsR0FBRyw2QkFBNkIsQ0FBQztBQUNwRCxZQUFRLENBQUMsU0FBUyxHQUFJLGtCQUFrQixDQUFDO0FBQ3pDLGFBQVMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsV0FBVyxHQUFHLEdBQUcsRUFBRSxRQUFRLENBQUMsSUFBSSxDQUFDLFlBQVksR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDO0FBQy9FLGVBQVcsR0FBRyxJQUFJLENBQUM7SUFDbkI7O0FBRUQsWUFBUyxhQUFhLEdBQUc7QUFDeEIsYUFBUyxDQUFDLFNBQVMsR0FBRyxrQkFBa0IsQ0FBQztBQUN6QyxZQUFRLENBQUMsU0FBUyxHQUFJLFFBQVEsQ0FBQztBQUMvQixhQUFTLENBQUMsU0FBUyxDQUFDLENBQUM7QUFDckIsZUFBVyxHQUFHLEtBQUssQ0FBQztBQUNwQixjQUFVLENBQUMsWUFBVztBQUNyQixjQUFTLENBQUMsU0FBUyxHQUFHLFVBQVUsQ0FBQztLQUNqQyxFQUFFLEdBQUcsQ0FBQyxDQUFDO0lBQ1I7O0FBRUQsWUFBUyxjQUFjLENBQUMsS0FBSyxFQUFFOztBQUU5QixRQUFJLEtBQUssQ0FBQyxNQUFNLEtBQUsscUNBQXFDLElBQUksS0FBSyxDQUFDLE1BQU0sS0FBSyxpQ0FBaUMsRUFBRTtBQUFFLFlBQU87S0FBRTtBQUM3SCxRQUFJLElBQUksR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQztBQUNsQyxRQUFJLElBQUksQ0FBQyxHQUFHLEtBQUssR0FBRyxFQUFFO0FBQ3JCLGFBQVEsQ0FBQyxXQUFXLENBQUMsUUFBUSxDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQztLQUN6RDtJQUNEOztBQUVELFNBQU0sQ0FBQyxnQkFBZ0IsQ0FBQyxTQUFTLEVBQUUsY0FBYyxFQUFFLEtBQUssQ0FBQyxDQUFDO0FBQzFELFdBQVEsQ0FBQyxnQkFBZ0IsQ0FBQyxPQUFPLEVBQUUsYUFBYSxDQUFDLENBQUM7QUFDbEQsU0FBTSxDQUFDLGdCQUFnQixDQUFDLE9BQU8sRUFBRSxhQUFhLENBQUMsQ0FBQzs7O0FBR2hELFNBQU0sQ0FBQyxZQUFZLENBQUMsS0FBSyxFQUFFLGlEQUFpRCxHQUFHLEdBQUcsQ0FBQyxDQUFDO0dBQ3BGOztBQUVELFFBQU0sQ0FBQyxnQkFBZ0IsQ0FBQyxPQUFPLEVBQUUsV0FBVyxDQUFDLENBQUM7RUFDOUM7O0FBRUQsTUFBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLE9BQU8sQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUU7O0FBRXhDLGNBQVksQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztFQUV6QjtDQUNELENBQUEsRUFBRyxDQUFBIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsIihmdW5jdGlvbigpIHsgJ3VzZSBzdHJpY3QnO1xuXHRcblx0bGV0IHBvcHVwID0gYFxuXHRcdDxkaXYgY2xhc3M9XCJtaXNGcmFtZVwiPlxuXHRcdFx0PGRpdiBjbGFzcz1cIm1pc1NwaW5uZXJcIj5cblx0XHRcdFx0PGRpdiBjbGFzcz1cImNpcmNsZTFcIj48L2Rpdj5cblx0XHRcdFx0PGRpdiBjbGFzcz1cImNpcmNsZTJcIj48L2Rpdj5cblx0XHRcdFx0PGRpdiBjbGFzcz1cIm1pcy1sb2dvXCI+PC9kaXY+XG5cdFx0XHRcdDxwIGNsYXNzPVwibG9hZGluZ1RleHRcIj5Mb2FkaW5nPC9wPlxuXHRcdFx0XHQ8YSBjbGFzcz1cIm1pcy1mYXFcIiBocmVmPVwiaHR0cHM6Ly9tYWtlaXRzb2NpYWwuY29tL2ZhcS9cIiB0YXJnZXQ9XCJfYmxhbmtcIj5MZWFybiBtb3JlPC9hPlxuXHRcdFx0PC9kaXY+XG5cdFx0XHQ8ZGl2IGNsYXNzPVwiZHJhZ2hhbmRsZVwiPlxuXHRcdFx0XHQ8ZGl2IGNsYXNzPVwibWlzSWNvIG1pc01pblwiPjwvZGl2PlxuXHRcdFx0PC9kaXY+XG5cdFx0PC9kaXY+XG5cdCAgPGlmcmFtZSBjbGFzcz1cIk1pU19Qb3BVcFwiIHNyYz1cIlwiIHN0eWxlPVwiZGlzcGxheTpub25lXCI+PC9pZnJhbWU+XG5cdGBcblx0XG5cdGxldCBzcHJpdGUgPSBgPGRpdiBjbGFzcz1cIm1pc0J0bkZpbGxcIj48ZGl2IGNsYXNzPVwibWlzSWNvIG1pc01heFwiPjwvZGl2PjwvZGl2PmA7XG5cdGxldCBidXR0b25zID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcIm1ha2VpdHNvY2lhbC1idXR0b25cIik7XG5cdGxldCBpc01vYmlsZSA9IG5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL0FuZHJvaWR8QmxhY2tCZXJyeXxpUGhvbmV8aVBhZHxpUG9kfE9wZXJhIE1pbml8SUVNb2JpbGUvaSk7XG5cdFxuXHQvLyBDcmVhdGUgJiBhcHBlbmQgdGhlIGNvbnRhaW5lciBmb3Igb3BlbmVkLCBtaW5pbWlzZWQgcG9wdXBzLlxuXHRsZXQgbWluaW1pc2VkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cdG1pbmltaXNlZC5jbGFzc05hbWUgPSBcIm1pc01pbmltaXNlZFwiO1xuXHRkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKG1pbmltaXNlZCk7XG5cdFxuXHQvLyBEcmFnQ2FudmFzIGlzb2xhdGVzIHRoZSBwb3B1cHMgZnJvbSBhbnkgdW5kZXJseWluZyBpZnJhbWVzIHRoYXQgY2FuIGNhcHR1cmUgZHJvcCBldmVudHMsIGEgZHJhZyBldmVudCByZW1vdmVzIHRoZSB7IHBvaW50ZXItZXZlbnRzOiBub25lIH0gY2xhc3MgcHJvcGVydHkuIFxuXHRsZXQgZHJhZ2NhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXHRkcmFnY2FudmFzLmNsYXNzTmFtZSA9IFwiZHJhZ0NhbnZhc1wiO1xuXHRkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGRyYWdjYW52YXMpO1xuXHRcblx0ZnVuY3Rpb24gY3JlYXRlQnV0dG9uKGJ1dHRvbikge1xuXHRcdFxuXHRcdGxldCBhY3RpdmUgPSBmYWxzZTtcblx0XHRsZXQgcGlkID0gYnV0dG9uLmdldEF0dHJpYnV0ZSgnZGF0YS1waWQnKTtcblx0XHRsZXQgY29vcmRzID0gWyh3aW5kb3cuaW5uZXJXaWR0aCAvIDIpIC0gMjAwLCAyMF07XG5cdFx0bGV0IG9mZnNldCA9IFswLCAwXTtcblx0XHRcblx0XHRsZXQgY29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cdFx0XG5cdFx0Y29udGFpbmVyLmlubmVySFRNTCA9IHBvcHVwO1xuXHRcdGNvbnRhaW5lci5zZXRBdHRyaWJ1dGUoJ2RyYWdnYWJsZScsICd0cnVlJyk7XG5cdFx0Y29udGFpbmVyLnNldEF0dHJpYnV0ZSgnb25kcmFnc3RhcnQnLCBcImV2ZW50LmRhdGFUcmFuc2Zlci5zZXREYXRhKCd0ZXh0L3BsYWluJywgJ1RoaXMgdGV4dCBtYXkgYmUgZHJhZ2dlZCcpXCIpOyAvLyBmaXJlZm94IGRhdGEgd29ya2Fyb3VuZFxuXHRcdGNvbnRhaW5lci5jbGFzc05hbWUgPSBcIm1pc0NvdmVyXCI7XG5cdFx0XG5cdFx0bGV0IGxvYWRlciA9IGNvbnRhaW5lci5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdtaXNTcGlubmVyJylbMF07XG5cdFx0bGV0IGlmcmFtZSA9IGNvbnRhaW5lci5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdNaVNfUG9wVXAnKVswXTtcblx0XHRsZXQgbWluaW1pID0gY29udGFpbmVyLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ21pc01pbicpWzBdO1xuXHRcdGxldCBjYWNoZWRQb3M7XG5cdFx0bGV0IGlzTWluaW1pc2VkO1xuXHRcdFxuXHRcdGxldCBtYXhpbWlzZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuXHRcdG1heGltaXNlLmNsYXNzTmFtZSA9IFwibWlzQnRuXCI7XG5cdFx0bWF4aW1pc2UuaW5uZXJIVE1MID0gc3ByaXRlO1xuXHRcdG1pbmltaXNlZC5hcHBlbmRDaGlsZChtYXhpbWlzZSk7XG5cdFx0XG5cdFx0Y29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoXCJkcmFnZW5kXCIsIGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHRcdGRyYWdjYW52YXMuY2xhc3NOYW1lID0gXCJkcmFnQ2FudmFzXCI7XG5cdFx0XHR1cGRhdGVQb3MoY29vcmRzKTtcbiAgXHR9LCBmYWxzZSk7XG5cdFx0XG5cdFx0Y29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoXCJkcmFnc3RhcnRcIiwgZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdFx0ZHJhZ2NhbnZhcy5jbGFzc05hbWUgPSBcImRyYWdDYW52YXMgYWN0aXZlRHJhZ1wiO1xuXHRcdFx0b2Zmc2V0ID0gW2V2ZW50Lm9mZnNldFgsIGV2ZW50Lm9mZnNldFldO1xuICBcdH0sIGZhbHNlKTtcblx0XHRcblx0ICBkcmFnY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoXCJkcmFnb3ZlclwiLCBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0Y29vcmRzID0gW2V2ZW50LmNsaWVudFggLSBvZmZzZXRbMF0sIGV2ZW50LmNsaWVudFkgLSBvZmZzZXRbMV1dO1xuXHQgIH0sIGZhbHNlKTtcblx0XHRcblx0ICBkcmFnY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoXCJkcm9wXCIsIGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdCAgfSwgZmFsc2UpO1xuXHRcdFxuXHRcdGZ1bmN0aW9uIHVwZGF0ZVBvcyhjKSB7XG5cdFx0XHRjb250YWluZXIuc3R5bGUubGVmdCA9IGNbMF0gKyAncHgnO1xuXHRcdFx0Y29udGFpbmVyLnN0eWxlLnRvcCA9IGNbMV0gKyAncHgnO1xuXHRcdH1cblx0XHRcblx0XHRmdW5jdGlvbiBsYXVuY2hQb3B1cChlKSB7XG5cdFx0XHRcblx0XHRcdGlmIChpc01vYmlsZSkge1xuXHRcdFx0XHR3aW5kb3cubG9jYXRpb24uaHJlZiA9IFwiaHR0cHM6Ly9wb3B1cC1zYW5kYm94Lmhlcm9rdWFwcC5jb20jL3NldHVwP3BpZD1cIiArIHBpZDtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXHRcdFx0XG5cdFx0XHQvLyBPcGVuIG9ubHkgb25lIHBvcHVwIHBlciBidXR0b247XG5cdFx0XHRpZiAoYWN0aXZlKSB7XG5cdFx0XHRcdGlmIChpc01pbmltaXNlZCkgeyBtYXhpbWlzZVBvcHVwKCk7IH1cblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXHRcdFx0XG5cdFx0XHRkcmFnY2FudmFzLmFwcGVuZENoaWxkKGNvbnRhaW5lcik7XG5cdFx0XHR1cGRhdGVQb3MoWyh3aW5kb3cuaW5uZXJXaWR0aCAvIDIpIC0gMjAwLCAyMF0pO1xuXHRcdFx0YWN0aXZlID0gdHJ1ZTtcblx0XHRcdFxuXHRcdFx0aWZyYW1lLm9ubG9hZCA9IGZ1bmN0aW9uKGUpIHtcblx0XHRcdFx0Ly8gR2l2ZSAxcyB0byBsZXQgcGFnZSByZW5kZXIgd2l0aCBwcm9kdWN0IGRldGFpbHNcblx0XHRcdFx0c2V0VGltZW91dChmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRsb2FkZXIuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuXHRcdFx0XHRcdGlmcmFtZS5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuXHRcdFx0XHR9LCAxMDAwKTtcblx0XHRcdH07XG5cdFx0XHRcblx0XHRcdGZ1bmN0aW9uIG1pbmltaXNlUG9wdXAoKSB7XG5cdFx0XHRcdGNhY2hlZFBvcyA9IFtjb250YWluZXIub2Zmc2V0TGVmdCwgY29udGFpbmVyLm9mZnNldFRvcF07XG5cdFx0XHRcdGNvbnRhaW5lci5jbGFzc05hbWUgPSBcIm1pc0NvdmVyIG1pc01vdmVNaW4gbWlzQW5pbVwiO1xuXHRcdFx0XHRtYXhpbWlzZS5jbGFzc05hbWUgID0gXCJtaXNCdG4gbWltaW1pc2VkXCI7XG5cdFx0XHRcdHVwZGF0ZVBvcyhbZG9jdW1lbnQuYm9keS5vZmZzZXRXaWR0aCAtIDMwMCwgZG9jdW1lbnQuYm9keS5vZmZzZXRIZWlnaHQgLSAxMDBdKTtcblx0XHRcdFx0aXNNaW5pbWlzZWQgPSB0cnVlO1xuXHRcdFx0fVxuXHRcdFx0XG5cdFx0XHRmdW5jdGlvbiBtYXhpbWlzZVBvcHVwKCkge1xuXHRcdFx0XHRjb250YWluZXIuY2xhc3NOYW1lID0gXCJtaXNDb3ZlciBtaXNBbmltXCI7XG5cdFx0XHRcdG1heGltaXNlLmNsYXNzTmFtZSAgPSBcIm1pc0J0blwiO1xuXHRcdFx0XHR1cGRhdGVQb3MoY2FjaGVkUG9zKTtcblx0XHRcdFx0aXNNaW5pbWlzZWQgPSBmYWxzZTtcblx0XHRcdFx0c2V0VGltZW91dChmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRjb250YWluZXIuY2xhc3NOYW1lID0gXCJtaXNDb3ZlclwiO1xuXHRcdFx0XHR9LCA1MDApO1xuXHRcdFx0fVxuXHRcdFx0XG5cdFx0XHRmdW5jdGlvbiByZWNlaXZlTWVzc2FnZShldmVudCkge1xuXHRcdFx0XHQvLyBUaGlzIGNoZWNrIGlzIGVzc2VudGlhbCB0byBhdm9pZCB4c3Ncblx0XHRcdFx0aWYgKGV2ZW50Lm9yaWdpbiAhPT0gXCJodHRwczovL3BvcHVwLXNhbmRib3guaGVyb2t1YXBwLmNvbVwiICYmIGV2ZW50Lm9yaWdpbiAhPT0gXCJodHRwczovL3BvcHVwLm1ha2VpdHNvY2lhbC5jb20vXCIpIHsgcmV0dXJuOyB9XG5cdFx0XHRcdHZhciBkYXRhID0gSlNPTi5wYXJzZShldmVudC5kYXRhKTtcblx0XHRcdFx0aWYgKGRhdGEucGlkID09PSBwaWQpIHtcblx0XHRcdFx0XHRtYXhpbWlzZS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShkYXRhLm5hbWUpKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0XHRcblx0XHRcdHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLCByZWNlaXZlTWVzc2FnZSwgZmFsc2UpO1xuXHRcdFx0bWF4aW1pc2UuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBtYXhpbWlzZVBvcHVwKTtcblx0XHRcdG1pbmltaS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIG1pbmltaXNlUG9wdXApO1xuXHRcdFx0Ly8gdXNlZCBmb3IgbG9jYWwgdGVzdGluZ1xuXHRcdFx0Ly8gaWZyYW1lLnNldEF0dHJpYnV0ZSgnc3JjJywgXCJodHRwOi8vMTI3LjAuMC4xOjgwODAvIy9zZXR1cD9waWQ9XCIgKyBwaWQpOyAgIFxuXHRcdFx0aWZyYW1lLnNldEF0dHJpYnV0ZSgnc3JjJywgXCJodHRwczovL3BvcHVwLXNhbmRib3guaGVyb2t1YXBwLmNvbSMvc2V0dXA/cGlkPVwiICsgcGlkKTtcblx0XHR9XG5cdFx0XG5cdFx0YnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgbGF1bmNoUG9wdXApO1xuXHR9XG5cdFxuXHRmb3IgKHZhciBpID0gMDsgaSA8IGJ1dHRvbnMubGVuZ3RoOyBpKyspIHtcblx0XHRcblx0XHRjcmVhdGVCdXR0b24oYnV0dG9uc1tpXSk7XG5cdFx0XG5cdH1cbn0pKCkiXX0=
>>>>>>> b00dc733b78a76dcd677141d766a341f49b02484
